<!-- Core Scripts -->
<script type="module">
  // Import main ElaAdmin JavaScript
  import '/src/js/ela-main.js';
  
  // Page-specific imports based on page parameter
  const page = '{{page}}';
  
  // Dynamic imports for page-specific functionality
  if (!page || page === 'dashboard') {
    import('/src/js/pages/dashboard.js');
  } else if (page === 'charts') {
    import('/src/js/pages/charts.js');
  } else if (page === 'forms') {
    import('/src/js/pages/forms.js');
  } else if (page === 'tables') {
    import('/src/js/pages/tables.js').then(module => {
      if (module.initializeTablesPage) {
        module.initializeTablesPage();
      }
    });
  } else if (page === 'maps') {
    // Load map scripts if needed
  }
</script>

<!-- Legacy scripts for old functionality -->
<script src="/assets/js/main.js" defer></script>